{"remainingRequest":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\src\\components\\Upgrading.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\src\\components\\Upgrading.vue","mtime":1627896646297},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\searl\\Downloads\\Marvel Champions\\MarvelChampionsQuestApp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBWdWUgZnJvbSAidnVlIgppbXBvcnQge21hcFN0YXRlLCBtYXBHZXR0ZXJzfSBmcm9tICJ2dWV4IgppbXBvcnQgVXBncmFkZSBmcm9tICJAL2NvbXBvbmVudHMvVXBncmFkZS52dWUiOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKaW1wb3J0IHtQbGF5ZXJ9IGZyb20gIkAvdHlwZXMvcGxheWVyIjsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CgluYW1lOiAnVXBncmFkaW5nJywKCWNvbXBvbmVudHM6IHsKCQlVcGdyYWRlCgl9LAoJY29tcHV0ZWQ6IHsKCQkuLi5tYXBTdGF0ZShbJ3BsYXllcnMnLCAndXBncmFkZU9wdGlvbnMnLCAnYWN0aXZlR2FtZUluZGV4JywgJ251bUdhbWVzJ10pLAoJCS4uLm1hcEdldHRlcnMoWyd1cGdyYWRlU2VsZWN0ZWQnXSksCgkJLi4uewoJCQltaXNzaW9uVGggKCkgewoJCQkJaWYgKHRoaXMuYWN0aXZlR2FtZUluZGV4ID09IDApIHsKCQkJCQlyZXR1cm4gJ2ZpcnN0JwoJCQkJfQoJCQkJaWYgKHRoaXMuYWN0aXZlR2FtZUluZGV4ID09IDEpIHsKCQkJCQlyZXR1cm4gJ3NlY29uZCcKCQkJCX0KCgkJCQkvLyBUT0RPOiBDYWxjdWxhdGUgYmFzZWQgb24gbnVtR2FtZXMKCQkJCWlmICh0aGlzLmFjdGl2ZUdhbWVJbmRleCA9PSAzKSB7CgkJCQkJcmV0dXJuICdsYXN0JwoJCQkJfQoJCQkJcmV0dXJuICduZXh0JwoJCQl9CgoJCX0KCX0sCgltZXRob2RzOiB7CgkJdG9nZ2xlVXBncmFkZVNlbGVjdGlvbiAocGxheWVySW5kZXg6IG51bWJlciwgdXBncmFkZU5hbWU6IHN0cmluZykgewoJCQl0aGlzLiRzdG9yZS5kaXNwYXRjaCgndG9nZ2xlVXBncmFkZVNlbGVjdGlvbicsIHsKCQkJCXBsYXllckluZGV4LAoJCQkJdXBncmFkZU5hbWUKCQkJfSkKCQl9LAoJCWNvbmZpcm1VcGdyYWRlcyAoKSB7CgkJCWNvbnN0IG1pc3NpbmcgOiBzdHJpbmdbXSA9IFtdCgkJCXRoaXMucGxheWVycy5mb3JFYWNoKChwbGF5ZXI6IFBsYXllciwgaWR4OiBudW1iZXIpID0+IHsKCQkJCWlmICghdGhpcy4kc3RvcmUuc3RhdGUudXBncmFkZVNlbGVjdGlvbnNbaWR4XSkgewoJCQkJCW1pc3NpbmcucHVzaChwbGF5ZXIuaGVyby5uYW1lKQoJCQkJfQoJCQl9KQoJCQlpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7CgkJCQlsZXQgbXNnID0gJycKCQkJCWlmIChtaXNzaW5nLmxlbmd0aCA9PSAxKSB7CgkJCQkJbXNnID0gbWlzc2luZ1swXSArICcgaXMgbWlzc2luZyBhbiB1cGdyYWRlLicKCQkJCX0gZWxzZSB7CgkJCQkJbGV0IHBvcHBlZCA9IG1pc3NpbmcucG9wKCkKCQkJCQltc2cgPSBtaXNzaW5nLmpvaW4oJywgJykKCQkJCQltc2cgKz0gJyBhbmQgJyArIHBvcHBlZCArICcgYXJlIG1pc3NpbmcgdXBncmFkZXMuJwoJCQkJfQoJCQkJbXNnICs9ICcgQ29udGludWU/JwoJCQkJaWYgKCFjb25maXJtKG1zZykpIHsKCQkJCQlyZXR1cm4KCQkJCX0KCQkJfQoJCQl0cnkgewoJCQkJdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NvbmZpcm1VcGdyYWRlcycpCgkJCX0gY2F0Y2ggKGV4KSB7CgkJCQlhbGVydChleCkKCQkJCXRocm93IGV4CgkJCX0KCQl9LAoJfQp9KQo="},{"version":3,"sources":["Upgrading.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upgrading.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"upgrading\">\r\n\t\t<h2 class=\"banger orange\">Choose New Upgrades</h2>\r\n\t\t<p>Then you'll choose your {{missionTh}} mission.</p>\r\n\t\t<div v-for=\"(player, idx) in players\" :key=\"player.name\" class=\"upgrade-player-area\">\r\n\t\t\t<div class=\"\">\r\n\t\t\t\t<h3 class=\"banger center hero-name\" :class=\"player.hero.cssClass\">{{player.hero.name}}</h3>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"upgrade-options\">\r\n\t\t\t\t<!-- TODO: Upgrade component -->\r\n\t\t\t\t<Upgrade\r\n\t\t\t\t\tv-for=\"upgrade in upgradeOptions[idx]\"\r\n\t\t\t\t\t:upgrade=\"upgrade\"\r\n\t\t\t\t\t:key=\"upgrade.name\"\r\n\t\t\t\t\t:choice=\"true\"\r\n\t\t\t\t\t:active=\"upgradeSelected(idx, upgrade.name)\"\r\n\t\t\t\t\tv-on:clicked=\"() => toggleUpgradeSelection(idx, upgrade.name)\">\r\n\t\t\t\t</Upgrade>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<button class=\"big-button\" @click=\"confirmUpgrades\">Confirm Upgrades</button>\r\n    <div class=\"next-step\">Next: Choose Mission</div>\r\n\t</div>\r\n</template>\r\n<script lang=\"ts\">\r\n\timport Vue from \"vue\"\r\n\timport {mapState, mapGetters} from \"vuex\"\r\n\timport Upgrade from \"@/components/Upgrade.vue\";\r\n\t// eslint-disable-next-line no-unused-vars\r\n\timport {Player} from \"@/types/player\";\r\n\texport default Vue.extend({\r\n\t\tname: 'Upgrading',\r\n\t\tcomponents: {\r\n\t\t\tUpgrade\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['players', 'upgradeOptions', 'activeGameIndex', 'numGames']),\r\n\t\t\t...mapGetters(['upgradeSelected']),\r\n\t\t\t...{\r\n\t\t\t\tmissionTh () {\r\n\t\t\t\t\tif (this.activeGameIndex == 0) {\r\n\t\t\t\t\t\treturn 'first'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.activeGameIndex == 1) {\r\n\t\t\t\t\t\treturn 'second'\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO: Calculate based on numGames\r\n\t\t\t\t\tif (this.activeGameIndex == 3) {\r\n\t\t\t\t\t\treturn 'last'\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 'next'\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoggleUpgradeSelection (playerIndex: number, upgradeName: string) {\r\n\t\t\t\tthis.$store.dispatch('toggleUpgradeSelection', {\r\n\t\t\t\t\tplayerIndex,\r\n\t\t\t\t\tupgradeName\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmUpgrades () {\r\n\t\t\t\tconst missing : string[] = []\r\n\t\t\t\tthis.players.forEach((player: Player, idx: number) => {\r\n\t\t\t\t\tif (!this.$store.state.upgradeSelections[idx]) {\r\n\t\t\t\t\t\tmissing.push(player.hero.name)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (missing.length > 0) {\r\n\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\tif (missing.length == 1) {\r\n\t\t\t\t\t\tmsg = missing[0] + ' is missing an upgrade.'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet popped = missing.pop()\r\n\t\t\t\t\t\tmsg = missing.join(', ')\r\n\t\t\t\t\t\tmsg += ' and ' + popped + ' are missing upgrades.'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmsg += ' Continue?'\r\n\t\t\t\t\tif (!confirm(msg)) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.$store.dispatch('confirmUpgrades')\r\n\t\t\t\t} catch (ex) {\r\n\t\t\t\t\talert(ex)\r\n\t\t\t\t\tthrow ex\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t})\r\n</script>\r\n"]}]}